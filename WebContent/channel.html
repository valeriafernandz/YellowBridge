<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>YellowBridge</title>
  <link rel="stylesheet" href="css/materialize.min.css">
  <link href="material-icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <script src="js/jquery.js"></script>
  <script src="js/materialize.min.js"></script>
  <script src="XHR.js"></script>
  <link rel="icon" href="images/icons8.png" type="image/x-icon">
  <link rel="shortcut icon" href="images/icons8.png" type="image/x-icon" />
  <header>
    <nav>
      <div class="nav-wrapper grey lighten-4">
        <a href="#" class="brand-logo left  grey-text lighten-4">
          <img src="images/icons8.png"></img> YellowBridge</a>
        <a href="#" data-activates="mobile-demo" class="button-collapse">
          <i class="material-icons">menu</i>
        </a>
        <ul class="right hide-on-med-and-down">
          <li>
            <a href="upload.html" class="btn-flat tooltipped" data-position="bottom" data-delay="50" data-tooltip="Upload">
              <i class="material-icons right amber-text accent-3">file_upload</i>
            </a>
          </li>
          <li>
            <a href="home.html" class="btn-flat tooltipped" data-position="bottom" data-delay="50" data-tooltip="Home">
              <i class="material-icons right amber-text accent-3">home</i>
            </a>
          </li>
          <li>
            <a href="login.html" class="btn-flat tooltipped" data-position="bottom" data-delay="50" data-tooltip="LogOut" onclick="logout()">
              <i class="material-icons left amber-text accent-3">keyboard_tab</i>
            </a>
          </li>
        </ul>
        <ul class="side-nav" id="mobile-demo">
          <li>
            <a href="">
              <i class="material-icons">home</i>inicio</a>
          </li>
          <li>
            <a href="">
              <i class="material-icons">close</i>Log Out</a>
          </li>
        </ul>
      </div>
    </nav>
  </header>
</head>

<body onload="buttons()">
  <div class="container">
    <div class="row">
      <div class="col l3 s6 m3">
        <div class="card">
          <div class="card-image">
            <img class="roundImg" src="images/bridge.jpg">
            <span class="card-title" id="username"></span>
          </div>
          <div class="card-content">
            <p id="bio">BIOGRAFIA <br></p>
          </div>
        </div>
      </div>
      <!-- columna de usuario -->
      <div class="col l8 container offset-l1">
        <ul id="videoList">



        </ul>

      </div>
    </div>
  </div>
  <script>
    //  $(document).ready(function(){
    //   $(".button-collapse").sideNav();
    // });

    // function $(id) {
    // 	return document.getElementById(id);
    // }
    // window.onload=function(){
    // var xhr= new XHR();
    // xhr.list("/YellowBridge/ListVideo");

    var videoArray = [];
    var userArray=[];
    var List = document.getElementById("videoList");
    var Bio= document.getElementById("bio");
    var username=document.getElementById("username");
    var xhr = new XHR();
    xhr.list("/YellowBridge/ListVideo");
    xhr.bio("/YellowBridge/Bio");
    videoArray = r;
    userArray=s;
    console.log(r);
    console.log(videoArray);
    
    for(i in userArray){
    	var p=document.createElement("p");
    	var span=document.createElement("span");
    	var sp=`<span class="card-title" id="username">${userArray[i].username}</span>`;
    	var biog= `
    	<div class="card-content">
            <p> ${userArray[i].bio}</p>
        </div>`;
        span.innerHTML=sp;
        username.appendChild(span);
        p.innerHTML= biog;
        Bio.appendChild(p);
    }
    
    for (i in videoArray) {
      var li = document.createElement("li");
      var video =
        `<div class="col l6">
                               <div class="card amber accent-3">
                                <div class="card-content white-text">
                                  <span class="card-title">${videoArray[i].videoname}</span>
                                   <p class="center">${videoArray[i].video_des}</p><br>
                                   <p class="center">${videoArray[i].time}</p>
                                </div>
                                 <div class="card-action">
                                  <a class="center white-text" href="VideoStreaming.html?media_id=${videoArray[i].video_id}">REPRODUCIR</a>
                                 </div>
                               </div>
                             </div>`;
      li.innerHTML = video;
      List.appendChild(li);
    }

    //var array="[name':'carlos';]";
    //var j=JSON.parse(array);
    //console.log(j[0].name);
  </script>
</body>

</html>